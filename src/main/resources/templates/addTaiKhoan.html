<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form name="addAccount" th:action="@{/addTaiKhoan/{account}(account=${changer.getTaiKhoan()})}" th:object="${user}" method="POST" onsubmit="return validateForm()">
        <label for="">Ten</label>
        <span th:field="*{Ten}">
            <input name="Ten" type="text" th:value="*{Ten}">
        </span>
        <br>

        <label for="">NgaySinh</label>
        <span th:field="*{NgaySinh}">
            <input name="NgaySinh" type="text" th:value="*{NgaySinh}">
        </span>
        <br>

        <label for="">GioiTinh :  </label>
        <span th:field="*{GioiTinh}" >
            <input type="hidden" name="GioiTinh" th:value="*{GioiTinh}">
            <span> Nam
                <input type="radio" name="checkboxSex" value="nam" />
            </span>
            <span> Nu
                <input type="radio" name="checkboxSex" value="nu"  />
            </span>        
        </span>
        <br>

        <label for="">Gmail</label>
        <span th:field="*{Gmail}">
            <input name="Gmail" type="text" th:value="*{Gmail}">
        </span>
        <br>

        <label for="">So dien thoai</label>
        <span th:field="*{SDT}">
            <input name="SDT" type="text" th:value="*{SDT}">
        </span>
        <br>

        <label for="">Dia chi</label>
        <label th:field="*{DiaChi}">
            <input name="DiaChi" type="text" th:value="*{DiaChi}">
        </label>
        <br>

        <label for="">Tai Khoan</label>
        <label th:field="*{TaiKhoan}">
            <input name="TaiKhoan" type="text" th:value="*{TaiKhoan}">
        </label>
        <br>

        <label for="">Mat Khau</label>
        <label th:field="*{MatKhau}">
            <input name="MatKhau" type="text" th:value="*{MatKhau}">
        </label>
        <br>

        <label for="">Cap Quyen :  </label>
        <span  th:field="*{Role}" >
            <input type="hidden" name="Role" th:value="*{Role}">
            <span> Hoi Dong
                <input type="radio" name="checkboxRole" value="hoidong" />
            </span>
            <span> Can Bo
                <input type="radio" name="checkboxRole" value="canbo"  />
            </span>        
        </span>
        <br>

        <input type="submit" value="Add">  
    </form>

    <script>
        function  validateForm() {
            let checkboxSex = document.getElementsByName("checkboxSex");

            for (var i = 0; i < checkboxSex.length; i++)  {
                if(checkboxSex[i].checked === true) {
                    // alert(checkbox[i].value);
                    if(checkboxSex[i].value == "nam") {
                        console.log("nam");
                        document.forms["addAccount"]["GioiTinh"].value = "true";
                    } else {
                        console.log("nu");
                        document.forms["addAccount"]["GioiTinh"].value = "false";
                    }
                }
            }

            let checkboxRole = document.getElementsByName("checkboxRole");

            for (var i = 0; i < checkboxRole.length; i++)  {
                if(checkboxSex[i].checked === true) {
                    // alert(checkbox[i].value);
                    if(checkboxRole[i].value == "hoidong") {
                        console.log("hoidong");
                        document.forms["addAccount"]["Role"].value = "2";
                    } else {
                        console.log("canbo");
                        document.forms["addAccount"]["Role"].value = "3";
                    }
                }
            }
            // console.log(document.forms["changeInfo"]["GioiTinh"].value);
            // console.log(document.forms["changeInfo"]["Role"].value);
            return true;
        }
    </script>
</body>
</html>